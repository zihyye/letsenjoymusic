<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <?!= include('style'); ?>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <div class="container">
        <header>
            <h1>🎵 MUSIC IS MY LIFE - 함께 즐기는 음악</h1>
            <p style="font-size: 1.1em; color: #6b7280;">
                항상 똑같은 나의 알고리즘이 아닌, 실제 사람들의 진솔한 이유가 담긴 음악 추천을 통해 ‘진짜 좋은 노래’를 발견하는 즐거움을 제공합니다.
            </p>
        </header>

        <main>
            <hr>

            <h2>답변해주세요🎶</h2>
            <form id="music-form">
                <div class="form-group">
                    <label>생활속에서 얼마나 자주 노래를 듣는지?</label>
                    <div class="radio-group">
                        <input type="radio" id="freq4" name="frequency" value="4매우자주들음" required><label for="freq4">매우 자주 들음</label>
                        <input type="radio" id="freq3" name="frequency" value="3자주듣는편"><label for="freq3">자주 듣는 편</label>
                        <input type="radio" id="freq2" name="frequency" value="2보통"><label for="freq2">보통</label>
                        <input type="radio" id="freq1" name="frequency" value="1거의듣지않음"><label for="freq1">거의 듣지 않음</label>
                        <input type="radio" id="freq0" name="frequency" value="0듣지않음"><label for="freq0">듣지 않음</label>
                    </div>
                </div>

                <div class="form-group">
                    <label>어떤 장르의 노래를 많이 듣는지? (복수선택가능)</label>
                    <div class="checkbox-group">
                        <input type="checkbox" id="genre1" name="genre" value="발라드"><label for="genre1">발라드</label>
                        <input type="checkbox" id="genre2" name="genre" value="힙합"><label for="genre2">힙합</label>
                        <input type="checkbox" id="genre3" name="genre" value="R&B"><label for="genre3">R&B</label>
                        <input type="checkbox" id="genre4" name="genre" value="락"><label for="genre4">락</label>
                        <input type="checkbox" id="genre5" name="genre" value="인디"><label for="genre5">인디</label>
                        <input type="checkbox" id="genre6" name="genre" value="K-POP"><label for="genre6">K-POP</label>
                        <input type="checkbox" id="genre7" name="genre" value="POP"><label for="genre7">POP</label>
                        <input type="checkbox" id="genre8" name="genre" value="재즈"><label for="genre8">재즈</label>
                    </div>
                    <input type="text" id="genre_other" name="genre_other" placeholder="기타 장르가 있다면 직접 작성해주세요.">
                </div>
                
                <div class="form-group">
                    <label for="listen_reason">노래를 듣는 이유는?</label>
                    <textarea id="listen_reason" name="listen_reason" placeholder="예) 노래를 들으면 힘이나요."></textarea>
                </div>
                
                <div class="form-group">
                    <label for="rec_artist">추천하고싶은 아티스트가 있다면?</label>
                    <input type="text" id="rec_artist" name="rec_artist" placeholder="아티스트">
                    <textarea id="rec_artist_reason" name="rec_artist_reason" rows="2" placeholder="이유" style="margin-top: 8px; height: 60px;"></textarea>
                </div>

                <div class="form-group">
                    <label for="rec_song">추천하고싶은 노래가 있다면?</label>
                    <input type="text" id="rec_song" name="rec_song" placeholder="아티스트/노래">
                    <textarea id="rec_song_reason" name="rec_song_reason" rows="2" placeholder="이유" style="margin-top: 8px; height: 60px;"></textarea>
                </div>

                <button type="submit" id="submit-btn">제출하고 결과보기</button>
            </form>

            <section class="stats-section">
                <h2>📈 응답 통계</h2>
                <div class="chart-container">
                    <div>
                        <h3>노래 청취 빈도</h3>
                        <canvas id="frequency-chart"></canvas>
                    </div>
                    <div>
                        <h3>선호 장르</h3>
                        <canvas id="genre-chart"></canvas>
                    </div>
                </div>
            </section>

            <section class="records-section">
                <h2>💬 다른 사람들의 추천과 생각</h2>
                <div class="records-list" id="records-container">
                    <p class="loading-message">데이터를 불러오는 중입니다...</p>
                </div>
            </section>
        </main>
        
        <footer>
            <p>&copy; 2025 MUSIC IS MY LIFE</p>
        </footer>
    </div>
    <?!= include('script'); ?>
</body>
</html>